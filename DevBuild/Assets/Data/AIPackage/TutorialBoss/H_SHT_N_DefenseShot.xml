
<AIPackage Name="H_SHT_N_DefenseShot" DefaultState="Entry">

    <AIState>
        <Entry UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="1.0" SearchIdentifier="Player">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="MOV_Idle"/>
                <AIEvent Type="Test" Log="H_SHT_N_DefenseShot"/>
            </Event_OnExecute>

            <Branch Condition="true" Execute="PhaseTransition"/>
        </Entry>
        <PhaseTransition UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="PhaseTransition"/>
            </Event_OnExecute>

            <Branch Condition="getStat_HitPoint == 0.0" Execute="TerminatePackage"/>
            <Branch Condition="true" Execute="ATK_N_DefenseWave"/>
        </PhaseTransition>

        <ATK_N_DefenseWave UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="ATK_N_DefenseWave"/>
            </Event_OnExecute>

            <Branch Condition="End == true" Execute="SHT_N_DefenseShot"/>
        </ATK_N_DefenseWave>

        <SHT_N_DefenseShot UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="SHT_N_DefenseShot"/>
            </Event_OnExecute>

            <Branch Condition="End == true" Execute="TerminatePackage"/>
        </SHT_N_DefenseShot>

        <TerminatePackage>
            <Event_OnExecute>
                <AIEvent Type="Test" Log="Terminate H_MIX_C_ThrustComboNCaseShot Package"/>
                <AIEvent Type="TerminatePackage"/>
            </Event_OnExecute>
        </TerminatePackage>
    </AIState>
</AIPackage>