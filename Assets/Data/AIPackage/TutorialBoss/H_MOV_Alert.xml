
<AIPackage Name="H_MOV_Alert" DefaultState="Entry">

    <AIState>
        <Entry UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="1.0" SearchIdentifier="Player">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="MOV_Idle"/>
                <AIEvent Type="Test" Log="H_MOV_Alert"/>
            </Event_OnExecute>

            <Branch Condition="true" Execute="MOV_Alert"/>
        </Entry>

        <MOV_Alert UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget" Angle="90.0"/>
                <AIEvent Type="SetAction" Action="MOV_Normal"/>
            </Event_OnExecute>
            
            <Event_OnFrame>
                <AIEvent Type="SetDirectionToTarget" Angle="90.0"/>
            </Event_OnFrame>

            <Branch Condition="(TargetDistance < 1.5)" Execute="TerminatePackage"/>
            <Branch Condition="(TargetDistance > 2.1) && TargetExists" Execute="MOV_Chase"/>
        </MOV_Alert>

        <MOV_Chase UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="MOV_Normal"/>
            </Event_OnExecute>

            <Branch Condition="(TargetDistance < 1.9)" Execute="MOV_Alert"/>
            <Branch Condition="(TargetDistance > 2.5) && (TargetDistance < 3.0)" Execute="ChaseFaster"/>
            <Event_OnUpdate>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnUpdate>
        </MOV_Chase>

        <MOV_ChaseFaster UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="MOV_Dash"/>
            </Event_OnExecute>

            <Branch Condition="(TargetDistance < 2.5) && End == true" Execute="MOV_Chase"/>
            <Branch Condition="(TargetDistance > 2.5) && End == true" Execute="MOV_ChaseFaster"/>
            <Event_OnUpdate>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnUpdate>
        </MOV_ChaseFaster>

        <TerminatePackage>
            <Event_OnExecute>
                <AIEvent Type="Test" Log="Terminate H_MIX_C_ThrustComboNCaseShot Package"/>
                <AIEvent Type="TerminatePackage"/>
            </Event_OnExecute>
        </TerminatePackage>
    </AIState>
</AIPackage>