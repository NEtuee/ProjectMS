<SequencerGraph Name="Tutorial_0">

    <InitializePhase>
        <BlockInput Enable="True"/>
        <SetHideUI Hide="True"/>
        <LetterBoxShow/>

        <SetHideCharacter UniqueGroupKey="Students" Hide="True"/>

        <SetCameraPosition TargetPositionMarker="CameraStart"/>

        <AudioParameter Key="9006" ParameterID="90061" ParameterValue="2" ParameterType="Local"/>
    </InitializePhase>

    <UpdatePhase>
        <SetHideCharacter UniqueKey="HP1" Hide="True"/>
        <SetHideCharacter UniqueKey="HP2" Hide="True"/>
        
        <AudioPlay ID="6008"/>
        <TalkBalloon UniqueKey="TalkCharacter" SimpleTalkKey="Talk_Tutorial_Expl_0" Wait="True"/>
        <SetHideCharacter UniqueGroupKey="Students" Hide="False"/>
        
        <Task ProcessType="AllAtOnce" Name="AIMove">
            <AIMove UniqueKey="Player" LoopAction="AIMove_Loop" EndPositionMarker="PlayerMarker"/>
            <AIMove UniqueKey="Student0" LoopAction="AC_Move" EndPositionMarker="Student0"/>
            <AIMove UniqueKey="Student1" LoopAction="AC_Move" EndPositionMarker="Student1"/>
            <AIMove UniqueKey="Student2" LoopAction="AC_Move" EndPositionMarker="Student2"/>
            <AIMove UniqueKey="Student3" LoopAction="AC_Move" EndPositionMarker="Student3"/>
            <AIMove UniqueKey="Student4" LoopAction="AC_Move" EndPositionMarker="Student4"/>
            <AIMove UniqueKey="Student5" LoopAction="AC_Move" EndPositionMarker="Student5"/>
            <AIMove UniqueKey="Student6" LoopAction="AC_Move" EndPositionMarker="Student6"/>
            <AIMove UniqueKey="Student7" LoopAction="AC_Move" EndPositionMarker="Student7"/>
            <AIMove UniqueKey="Student8" LoopAction="AC_Move" EndPositionMarker="Student8"/>
            <AIMove UniqueKey="Student9" LoopAction="AC_Move" EndPositionMarker="Student9"/>
            <AIMove UniqueKey="Student10" LoopAction="AC_Move" EndPositionMarker="Student10"/>
            <AIMove UniqueKey="Student11" LoopAction="AC_Move" EndPositionMarker="Student11"/>
            <AIMove UniqueKey="Student12" LoopAction="AC_Move" EndPositionMarker="Student12"/>
            <AIMove UniqueKey="Student13" LoopAction="AC_Move" EndPositionMarker="Student13"/>
            <AIMove UniqueKey="Student14" LoopAction="AC_Move" EndPositionMarker="Student14"/>
            <AIMove UniqueKey="Student15" LoopAction="AC_Move" EndPositionMarker="Student15"/>
            <AIMove UniqueKey="Student16" LoopAction="AC_Move" EndPositionMarker="Student16"/>
            <AIMove UniqueKey="Student17" LoopAction="AC_Move" EndPositionMarker="Student17"/>
        </Task>

        <TaskFence TaskName="AIMove"/>
        
        <SetDirection UniqueKey="Player" DirectionType="AlwaysRight"/>
        <SetDirection UniqueGroupKey="Students" DirectionType="AlwaysRight"/>

        <AIMove UniqueKey="SetsumeiChan" LoopAction="SpinMove" EndPositionMarker="SetsumeiChanMarker"/>
        <SetDirection UniqueKey="SetsumeiChan" DirectionType="AlwaysLeft"/>

        <TaskFence TaskName="AIMove"/>
        <!-- <SetBackgroundAnimationTrigger Key="Title" Trigger="On"/>
        <WaitSignal Signal="AnimationEnd"/> -->

        <WaitSecond Time="1.0"/>

        <SetCameraTarget UniqueKey="SetsumeiChan" CameraMode="TargetCenterMode"/>
        <SetCameraZoom Size="2.0" Speed="5"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_Expl_1" Wait="True"/>

        <SetCameraPosition TargetPositionMarker="CameraStart"/>
        <SetCameraZoom Size="0.0" Speed="5"/>
        <SetAction UniqueKey="SetsumeiChan" Action="Pointing"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_Expl_2"/>

        <WaitSecond Time="1.0"/>

        <AudioPlay ID="6009"/>
        <TalkBalloon UniqueKey="Student0" SimpleTalkKey="Talk_Tutorial_Expl_3"/>
        <WaitSecond Time="0.2"/>
        <TalkBalloon UniqueKey="Student10" SimpleTalkKey="Talk_Tutorial_Expl_4"/>
        <WaitSecond Time="0.5"/>
        <TalkBalloon UniqueKey="Student16" SimpleTalkKey="Talk_Tutorial_Expl_5"/>
        <WaitSecond Time="4.0"/>


        <SetAction UniqueKey="SetsumeiChan" Action="Idle"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_0" Wait="True"/>
        <TalkBalloon UniqueKey="Player" SimpleTalkKey="Talk_Tutorial_0_1" Wait="True"/>

        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_2" Wait="True"/>

        <AudioPlay ID="6010"/>
        <TalkBalloon UniqueKey="Student4" SimpleTalkKey="Talk_Tutorial_Re_St_1"/>
        <WaitSecond Time="0.2"/>
        <TalkBalloon UniqueKey="Student2" SimpleTalkKey="Talk_Tutorial_Re_St_2"/>
        <WaitSecond Time="2.0"/>

        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_3" Wait="True"/>
        <SetAction UniqueKey="SetsumeiChan" Action="Pointing"/>

        <EffectPreset UniqueKey="Player" EffectPreset="Smash_NoneTarget"/>
        <ApplyBuff UniqueKey="Player" Buff="AkaneStartHP"/>
        <SetAction UniqueKey="Player" Action="Hit"/>
        
        <WaitSecond Time="0.5"/>
        
        <AIMove UniqueKey="SetsumeiChan" LoopAction="Move" EndPositionMarker="SetsumeiWait"/>
        <SetDirection UniqueKey="SetsumeiChan" DirectionType="AlwaysLeft"/>

        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_4"/>

        <BlockInput Enable="False"/>
        <SetHideUI Hide="False"/>
        <LetterBoxHide/>

        <SetMainCameraBoundLock Enable="True"/>

        <SetHideCharacter UniqueKey="HP1" Hide="False"/>
        <DeadFence  UniqueKey="HP1"/>

        <TalkBalloon UniqueKey="Student7" SimpleTalkKey="Talk_Tutorial_Re_St_0"/>

        <WaitSecond Time="1.0"/>

        <CallAIEvent EventName="ToIdle" UniqueKey="Player" EventTargetType="Range" AllyTarget="Neutral" Range="10"/>

        <BlockInput Enable="True"/>

        <AIMove UniqueKey="Player" LoopAction="AIMove_Loop" EndPositionMarker="PlayerMarker"/>
        <SetDirection UniqueKey="Player" DirectionType="AlwaysRight"/>

        <AIMove UniqueKey="SetsumeiChan" LoopAction="Move" EndPositionMarker="SetsumeiChanMarker"/>
        <SetDirection UniqueKey="SetsumeiChan" DirectionType="AlwaysLeft"/>

        <SetAction UniqueKey="SetsumeiChan" Action="Teasing"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_5" Wait="True"/>

        <AIMove UniqueKey="SetsumeiChan" LoopAction="Move" EndPositionMarker="SetsumeiWait"/>
        <SetDirection UniqueKey="SetsumeiChan" DirectionType="AlwaysLeft"/>
        
        <SetHideCharacter UniqueKey="HP2" Hide="False"/>

        <BlockInput Enable="False"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_6" Wait="True"/>
        
        <DeadFence UniqueKey="HP2"/>

        <WaitSecond Time="1.0"/>

        <CallAIEvent EventName="ToIdle" UniqueKey="Player" EventTargetType="Range" AllyTarget="Neutral" Range="10"/>

        <BlockInput Enable="True"/>

        <AIMove UniqueKey="Player" LoopAction="AIMove_Loop" EndPositionMarker="PlayerMarker"/>
        <SetDirection UniqueKey="Player" DirectionType="AlwaysRight"/>

        <AIMove UniqueKey="SetsumeiChan" LoopAction="Move" EndPositionMarker="SetsumeiChanMarker"/>
        <SetDirection UniqueKey="SetsumeiChan" DirectionType="AlwaysLeft"/>

        <SetAction UniqueKey="SetsumeiChan" Action="Teasing"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_0_7" Wait="True"/>

        <SetMainCameraBoundLock Enable="False"/>



        <WaitSecond Time="1.0"/>

        <SetAction UniqueKey="SetsumeiChan" Action="Idle"/>
        <SetCameraTarget UniqueKey="SetsumeiChan" CameraMode="TargetCenterMode"/>
        <SetCameraZoom Size="2.0" Speed="5"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_Expl_6" Wait="True"/>

        <SetCameraPosition TargetPositionMarker="CameraStart"/>
        <SetCameraZoom Size="0.0" Speed="5"/>

        <AudioPlay ID="6011"/>
        <TalkBalloon UniqueKey="SetsumeiChan" SimpleTalkKey="Talk_Tutorial_Expl_7"/>

        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="SetsumeiChan" LoopAction="SpinMove" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.2"/>
        
        <Task ProcessType="AllAtOnce" Name="AIMove">
            <AIMove UniqueKey="Student0" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student1" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.1"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student2" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student3" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.2"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student4" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student5" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.1"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student8" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student9" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.1"/>
        <TalkBalloon UniqueKey="Student11" SimpleTalkKey="Talk_Tutorial_Expl_9"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student10" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student11" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.1"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student12" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student13" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.2"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student14" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student15" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.2"/>
        <TalkBalloon UniqueKey="Student6" SimpleTalkKey="Talk_Tutorial_Expl_8"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student6" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student7" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>

        <WaitSecond Time="0.2"/>
        <Task ProcessType="AllAtOnce">
            <AIMove UniqueKey="Student16" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
            <AIMove UniqueKey="Student17" LoopAction="AC_Move" EndPositionMarker="Spawn"/>
        </Task>        

        <TaskFence TaskName="AIMove"/>

        <WaitSecond Time="1.0"/>
        <AudioParameter Key="9006" ParameterID="90061" ParameterValue="1" ParameterType="Local"/>

        <SetCameraTarget UniqueKey="Player" CameraMode="TargetCenterMode"/>
        <BlockInput Enable="False"/>

    </UpdatePhase>
    
</SequencerGraph>
