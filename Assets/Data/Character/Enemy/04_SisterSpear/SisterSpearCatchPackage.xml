<AIPackage Name="SisterSpearCatchPackage" DefaultState="AI_AttackReady">
    <AIState>
        <AI_AttackReady UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="50.0" AllyTarget="Enemy">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="AC_AttackReady"/>
            </Event_OnExecute>

            <Event_OnUpdate>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnUpdate>
            
            <Branch Condition="End" Execute="AI_AttackMain"/>
        </AI_AttackReady>
        <AI_AttackMain UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="50.0" AllyTarget="Enemy">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="AC_AttackMain"/>
            </Event_OnExecute>
            
            <Branch Condition="AttackCatchTarget" Execute="AI_Entry"/>
            <Branch Condition="End" Execute="AI_AttackRecover"/>
        </AI_AttackMain>
        <AI_AttackRecover UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="50.0" AllyTarget="Enemy">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="AC_AttackRecover"/>
            </Event_OnExecute>
            
            <Branch Condition="End" Execute="TerminatePackage"/>
        </AI_AttackRecover>

        <AI_Entry UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="999.0" AllyTarget="Enemy">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="AC_Catch_Entry"/>
            </Event_OnExecute>

            <Branch Condition="IsCatcher == false" Execute="AI_Away"/>
        </AI_Entry>

        <AI_Away UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="999.0" AllyTarget="Enemy">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="AC_Catch_Away"/>
            </Event_OnExecute>
        
            <Branch Condition="End" Execute="TerminatePackage"/>
        </AI_Away>
    
        <TerminatePackage>
            <Event_OnExecute>
                <AIEvent Type="TerminatePackage"/>
            </Event_OnExecute>
        </TerminatePackage>
    </AIState>
</AIPackage>