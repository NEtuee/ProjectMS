
<AIPackage Name="H_MIX_C_ThrustComboNCaseShot" DefaultState="Entry">


    <AIState>
        <Entry UpdateTime="0.0" TargetSearchType="Near" TargetSearchRange="1.0" SearchIdentifier="Player">
            <Event_OnExecute>
                <AIEvent Type="SetAction" Action="MOV_Idle"/>
                <AIEvent Type="Test" Log="H_MIX_C_ThrustComboNCaseShot"/>
            </Event_OnExecute>

            <Branch Condition="true" Execute="ATK_C_Thrust_Charge"/> 
        </Entry>

        <ATK_C_Thrust_Charge UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="AttackCharge"/>
                <AIEvent Type="Test" Log="ATK_C_Thrust_Charge"/>
            </Event_OnExecute>
            <Event_OnFrame>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnFrame>
            
            <!-- <UseBranchSet Name="EvadeTypeBranchSet"/> -->
            <Branch Condition="End == true" Execute="ATK_C_Thrust_Prepare"/>
        </ATK_C_Thrust_Charge>

        <ATK_C_Thrust_Prepare UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="AttackPrepare"/>
                <AIEvent Type="Test" Log="ATK_C_Thrust_Prepare"/>
            </Event_OnExecute>
            <Event_OnFrame>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnFrame>
            <Branch Condition="End == true" Execute="ATK_C_Thrust_A"/>
        </ATK_C_Thrust_Prepare>

        <ATK_C_Thrust_A UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="ATK_C_Thrust"/>
            </Event_OnExecute>
            <Event_OnFrame>
                <!--<AIEvent Type="SetDirectionToTarget"/>-->
            </Event_OnFrame>

            <Branch Condition="AttackGuarded == true" Execute="ATK_C_Thrust_A_Guarded"/>
            <Branch Condition="End == true" Execute="ATK_C_Thrust_B"/>
        </ATK_C_Thrust_A>

        <ATK_C_Thrust_A_Guarded UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="STA_Guarded"/>
            </Event_OnExecute>

            <Branch Condition="End == true" Execute="ATK_C_Thrust_B"/>
        </ATK_C_Thrust_A_Guarded>

        <ATK_C_Thrust_B UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="ATK_C_Thrust"/>
            </Event_OnExecute>
            <Event_OnFrame>
                <!--<AIEvent Type="SetDirectionToTarget"/>-->
            </Event_OnFrame>

            <Branch Condition="AttackGuarded == true" Execute="ATK_C_Thrust_B_Guarded"/>
            <Branch Condition="End == true" Execute="SHT_N_CaseShot"/>
        </ATK_C_Thrust_B>

        <ATK_C_Thrust_B_Guarded UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="STA_Guarded"/>
            </Event_OnExecute>
            
            <Branch Condition="End == true" Execute="SHT_N_CaseShot"/>
        </ATK_C_Thrust_B_Guarded>

        <SHT_N_CaseShot UpdateTime="0.0">
            <Event_OnExecute>
                <AIEvent Type="SetDirectionToTarget"/>
                <AIEvent Type="SetAction" Action="SHT_N_CaseShot"/>
            </Event_OnExecute>
            <Event_OnFrame>
                <AIEvent Type="SetDirectionToTarget"/>
            </Event_OnFrame>
            <Branch Condition="End == true" Execute="TerminatePackage"/>
        </SHT_N_CaseShot>

        <TerminatePackage>
            <Event_OnExecute>
                <AIEvent Type="Test" Log="Terminate H_MIX_C_ThrustComboNCaseShot Package"/>
                <AIEvent Type="TerminatePackage"/>
            </Event_OnExecute>
        </TerminatePackage>
    </AIState>
</AIPackage>